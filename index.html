<!DOCTYPE html>
<html lang="en">

<head>

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <title>Malang | Fine Arts & Photography Club</title>
        <meta name="description"
            content="Malang BVP is Bharati Vidyapeeth College of Engineering's official Fine Arts and Photography Club, Pune. Explore our events, exhibitions, and creativity that define Malang.">
        <meta name="keywords"
            content="Malang BVP, Malang Bharati Vidyapeeth, Malang Pune, Fine Arts Club BVP, Photography Club BVP, Malang College Pune, Malang Club, Malang BVCOE Pune">
        <meta name="author" content="Malang BVP">

        <link rel="shortcut icon" href="resrc/images/icons/favicon.png" type="image/x-icon">
        <link rel="apple-touch-icon" href="/resrc/images/icons/malang.png">
        <meta name="theme-color" content="#111111">

        <meta property="og:title" content="Malang | Fine Arts & Photography Club">
        <meta property="og:description"
            content="Official Fine Arts and Photography Club of Bharati Vidyapeeth College of Engineering, Pune. Discover our work, events, and artistic spirit.">
        <meta property="og:image" content="https://www.malangbvp.info/resrc/images/misc/team2.webp">
        <meta property="og:url" content="https://malangbvp.info/">
        <meta property="og:type" content="website">

        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Malang | Fine Arts & Photography Club, BVP Pune">
        <meta name="twitter:description"
            content="Explore Malang BVP â€” the Fine Arts and Photography Club of Bharati Vidyapeeth College of Engineering.">
        <meta name="twitter:image" content="https://www.malangbvp.info/resrc/images/misc/team2.webp">

        <link rel="canonical" href="https://malangbvp.info/">

        <link rel="stylesheet" href="src/styles/common.css">
        <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
        <link rel="manifest" href="/manifest.json">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        <script type="application/ld+json">
        {
                "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Malang BVP",
            "url": "https://malangbvp.info",
            "logo": "https://malangbvp.info/resrc/images/icons/malang.png",
            "sameAs": [
                "https://www.instagram.com/malangbvp",
                "https://www.linkedin.com/company/malangbvp"
            ],
            "description": "Malang BVP is the Fine Arts and Photography Club of Bharati Vidyapeeth College of Engineering, Pune."
        }
    </script>

    </head>


<body>
    <div data-include="/src/components/nav.html"></div>
    <iframe style="border: none; position: fixed; top:0px; left:0; width: 100vw; height: 100vh; overflow-x: auto;"
        id="content"></iframe>
    <script src="src/scripts/common.js"></script>
    <script src="src/scripts/load.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/ldrs/dist/auto/lineWobble.js"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyD20pmHMSjDirK1CFEz1EIrUJWwqbVLev4",
            authDomain: "malang-auth.firebaseapp.com",
            projectId: "malang-auth",
            storageBucket: "malang-auth.firebasestorage.app",
            messagingSenderId: "522245850115",
            appId: "1:522245850115:web:f8a69e1e021222fa997a36",
            measurementId: "G-GHFQ1YG8WZ"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // Load allowed emails once
        let allowedEmails = [];
        fetch("/resrc/data/member-emails.json")
            .then(res => res.json())
            .then(data => allowedEmails = data);

        // Update navbar profile picture
        function updateNavbar(user) {
            const profilePic = document.getElementById("profilePic");
            if (user && allowedEmails.includes(user.email)) {
                profilePic.src = user.photoURL || "/resrc/images/icons/user.png";
                profilePic.classList.add("profile-pic");
                localStorage.setItem("loggedIn", "true");
            } else {
                profilePic.src = "/resrc/images/icons/user.png";
                profilePic.classList.remove("profile-pic");
                localStorage.setItem("loggedIn", "false");
            }
        }

        // Keep navbar always synced
        onAuthStateChanged(auth, updateNavbar);

        // Expose auth to iframes
        window.firebaseAuth = auth;

        const iframe = document.querySelector("#content");
        iframe.addEventListener("wheel", (e) => {
            iframe.contentWindow.dispatchEvent(new WheelEvent("wheel", e));
        });

    </script>

    <!-- Link your JS -->
    <script src="/src/scripts/search.js"></script>
    <!-- Include Fuse.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2"></script>
</body>

</html>